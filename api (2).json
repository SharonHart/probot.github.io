{"openapi":"3.0.2","info":{"title":"GenChem","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Healthcheck","description":"Health probe","operationId":"healthcheck_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/optimisations":{"post":{"summary":"Create Optimisation Run","description":"Create an optimisation run","operationId":"create_optimisation_run_optimisations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Optimisation"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Optimisation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/optimisations/mpos":{"get":{"summary":"Get Mpos","description":"Get parameters of optimisation runs of certain projects","operationId":"get_mpos_optimisations_mpos_get","parameters":[{"required":false,"schema":{"title":"Project","type":"array","items":{"type":"string"}},"name":"project","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Mpos Optimisations Mpos Get","type":"array","items":{"$ref":"#/components/schemas/GenChemConfig"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/optimisations/{optimisation_id}/mpos":{"get":{"summary":"Get Optimisation Mpos","description":"Get parameters for optimisation runs for a single project","operationId":"get_optimisation_mpos_optimisations__optimisation_id__mpos_get","parameters":[{"required":true,"schema":{"title":"Optimisation Run Id","type":"string"},"name":"optimisation_run_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenChemConfig"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/optimizations/gmpps":{"get":{"summary":"Get Global Multipart Profile Parameters","description":"Get global multipart parameters for all optimisations runs\n:return: List of the optimisations global multipart profiles parameters","operationId":"get_global_multipart_profile_parameters_optimizations_gmpps_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"summary":"Create Global Multipart Profile Parameters","description":"Create project multipart parameters for all optimisations runs\n:return: The created global multipart profile parameter resource","operationId":"create_global_multipart_profile_parameters_optimizations_gmpps_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/optimizations/mpps":{"get":{"summary":"Get Project Multipart Profile Parameters","description":"Get project multipart parameters for all optimisations runs\n:return: List of the optimisations project multipart profiles parameters","operationId":"get_project_multipart_profile_parameters_optimizations_mpps_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AutoOptimisationConfig":{"title":"AutoOptimisationConfig","required":["type","params"],"type":"object","properties":{"type":{"title":"Type","enum":["AUTO"],"type":"string"},"params":{"$ref":"#/components/schemas/Thoroughness"}},"description":"Optimisation config will be automatically set based on the generative model type."},"Empty":{"title":"Empty","type":"object","properties":{},"additionalProperties":false,"description":"Raises exception if extra fields are present"},"Experiment":{"title":"Experiment","required":["id","url"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"url":{"title":"Url","type":"string"}},"description":"ML Solution Experiment. Corresponds AzureML Run for example.\nA single GenChem Run can map into multiple Experiments."},"FreeformDesirabilityConfig":{"title":"FreeformDesirabilityConfig","required":["params"],"type":"object","properties":{"type":{"title":"Type","enum":["free-form"],"type":"string","default":"free-form"},"params":{"$ref":"#/components/schemas/XYCurve"}},"additionalProperties":false,"description":"Free-form x-y curve for desirability"},"GEGLConfig":{"title":"GEGLConfig","required":["type","params"],"type":"object","properties":{"type":{"title":"Type","enum":["GEGL"],"type":"string"},"params":{"$ref":"#/components/schemas/Thoroughness"}},"description":"Config specifically related to GEGL"},"GenChemConfig":{"title":"GenChemConfig","required":["optimisation","experiment_name","seeds","scoring"],"type":"object","properties":{"scaffold":{"title":"Scaffold","type":"string"},"number_compounds":{"title":"Number Compounds","type":"integer","default":10},"optimisation":{"title":"Optimisation","anyOf":[{"$ref":"#/components/schemas/MSOConfig"},{"$ref":"#/components/schemas/GEGLConfig"},{"$ref":"#/components/schemas/VirtualScreeningConfig"},{"$ref":"#/components/schemas/AutoOptimisationConfig"}]},"exploit_explore_level":{"title":"Exploit Explore Level","maximum":5.0,"minimum":0.0,"type":"integer","default":0},"experiment_name":{"title":"Experiment Name","type":"string"},"max_runtime":{"title":"Max Runtime","type":"integer","default":24},"seeds":{"title":"Seeds","minItems":1,"type":"array","items":{"$ref":"#/components/schemas/NamedSmiles"}},"generic_params":{"$ref":"#/components/schemas/GenericParams"},"scoring":{"$ref":"#/components/schemas/MultiPropertyScoreConfig"}},"additionalProperties":false,"description":"A GenChem configuration, specifying\n- properties to score molecules on\n- hyperparameters for the optimisation algorithm\n- metadata such as project codes"},"GenericParams":{"title":"GenericParams","required":["project_codes","castboards","analysis_id","created_at","created_by"],"type":"object","properties":{"project_codes":{"title":"Project Codes","type":"array","items":{"type":"string"}},"castboards":{"title":"Castboards","type":"array","items":{"type":"integer"}},"analysis_id":{"title":"Analysis Id","type":"string"},"created_at":{"title":"Created At","type":"string"},"created_by":{"title":"Created By","type":"string"}},"description":"Represents the metadata in the config."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"LearnedPropertyModelConfig":{"title":"LearnedPropertyModelConfig","required":["params"],"type":"object","properties":{"type":{"title":"Type","enum":["Learned"],"type":"string","default":"Learned"},"params":{"$ref":"#/components/schemas/PathAndID"}},"additionalProperties":false,"description":"Raises exception if extra fields are present"},"MSOConfig":{"title":"MSOConfig","required":["type","params"],"type":"object","properties":{"type":{"title":"Type","enum":["MSO"],"type":"string"},"params":{"$ref":"#/components/schemas/MSOHyperparams"}},"description":"Config specifically related to molecular swarm optimisation"},"MSOHyperparams":{"title":"MSOHyperparams","required":["thoroughness"],"type":"object","properties":{"num_particles":{"title":"Num Particles","minimum":1.0,"type":"integer","default":40},"thoroughness":{"title":"Thoroughness","maximum":4.0,"minimum":0.0,"type":"integer"},"phi1":{"title":"Phi1","type":"number","default":2.5},"phi2":{"title":"Phi2","type":"number","default":2.5},"phi3":{"title":"Phi3","type":"number","default":2.5},"v_min":{"title":"V Min","type":"number","default":-0.6},"v_max":{"title":"V Max","type":"number","default":0.6},"inertia_weight":{"title":"Inertia Weight","type":"number","default":0.9},"x_min":{"title":"X Min","type":"number"},"x_max":{"title":"X Max","type":"number"},"norm_max":{"title":"Norm Max","type":"number"}},"description":"Hyperparameters that control some aspects of MSO behaviour.\n\nArgs:\n    num_particles: Number of latent space particles per swarm.\n    num_steps: Number of optimisation steps to perform.\n    phi1: How strongly particle-level best-so-far result contributes to the movement.\n    phi2: How strongly swarm-level best-so-far result contributes to the movement.\n    phi3: How strongly swarm history contributes to the movement.\n    v_min, v_max: Range for initializing particle velocity vectors.\n    inertia_weight: Decay coefficient for particle velocity.\n    x_min, x_max: Range for clipping the latent space vectors, or `None` to turn off.\n    norm_max: Range for clipping the norm of the latent space vectors, or `None` to turn off."},"MultiPropertyScoreConfig":{"title":"MultiPropertyScoreConfig","required":["scoring_functions","aggregation"],"type":"object","properties":{"scoring_functions":{"title":"Scoring Functions","type":"array","items":{"$ref":"#/components/schemas/SinglePropertyScoreConfig"}},"aggregation":{"$ref":"#/components/schemas/WeightedSumAggregation"}},"description":"Config for a composite score based on multiple properties."},"Name":{"title":"Name","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"}},"additionalProperties":false,"description":"Raises exception if extra fields are present"},"NamedSmiles":{"title":"NamedSmiles","required":["name","smiles"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"smiles":{"title":"Smiles","type":"string"}}},"Optimisation":{"title":"Optimisation","required":["username","projects","parameters"],"type":"object","properties":{"_id":{"title":" Id","type":"string","examples":["5eb7cf5a86d9755df3a6c593","5eb7cfb05e32e07750a1756a"]},"username":{"title":"Username","type":"string"},"type":{"title":"Type","enum":["OPTIMISATION"],"type":"string","default":"OPTIMISATION"},"projects":{"title":"Projects","type":"array","items":{"type":"string"}},"parameters":{"$ref":"#/components/schemas/GenChemConfig"},"experiments":{"title":"Experiments","type":"array","items":{"$ref":"#/components/schemas/Experiment"},"default":[]}},"description":"An optimisation run representation"},"PathAndID":{"title":"PathAndID","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"path":{"title":"Path","type":"string"}},"additionalProperties":false,"description":"Raises exception if extra fields are present"},"Point":{"title":"Point","required":["x","y"],"type":"object","properties":{"x":{"title":"X","type":"number"},"y":{"title":"Y","type":"number"}}},"SimpleRawScorerConfig":{"title":"SimpleRawScorerConfig","required":["params"],"type":"object","properties":{"type":{"title":"Type","enum":["Simple"],"type":"string","default":"Simple"},"params":{"$ref":"#/components/schemas/Name"}},"additionalProperties":false,"description":"Simple scoring function, uniquely identified by a name and requiring\nno extra parameters.\nCurrently these are all just RDKit functions"},"SinglePropertyScoreConfig":{"title":"SinglePropertyScoreConfig","required":["raw_score","weight","editable_desirability","friendly_name"],"type":"object","properties":{"raw_score":{"title":"Raw Score","anyOf":[{"$ref":"#/components/schemas/SimpleRawScorerConfig"},{"$ref":"#/components/schemas/LearnedPropertyModelConfig"},{"$ref":"#/components/schemas/SubstructMatchConfig"}]},"desirability":{"$ref":"#/components/schemas/FreeformDesirabilityConfig"},"weight":{"title":"Weight","type":"number"},"editable_desirability":{"title":"Editable Desirability","type":"boolean"},"friendly_name":{"title":"Friendly Name","type":"string"},"info":{"title":"Info","type":"string","default":""}},"description":"Config for scoring a single property. Describes the raw scorer, desirability, and weighting."},"Structure":{"title":"Structure","required":["structure"],"type":"object","properties":{"structure":{"title":"Structure","type":"string"}}},"SubstructMatchConfig":{"title":"SubstructMatchConfig","required":["params"],"type":"object","properties":{"type":{"title":"Type","enum":["Match substructure"],"type":"string","default":"Match substructure"},"params":{"$ref":"#/components/schemas/Structure"}},"additionalProperties":false,"description":"Raises exception if extra fields are present"},"Thoroughness":{"title":"Thoroughness","required":["thoroughness"],"type":"object","properties":{"thoroughness":{"title":"Thoroughness","type":"integer"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"VirtualScreeningConfig":{"title":"VirtualScreeningConfig","required":["type"],"type":"object","properties":{"type":{"title":"Type","enum":["NONE"],"type":"string"},"params":{"title":"Params","allOf":[{"$ref":"#/components/schemas/Empty"}],"default":{}}},"description":"Config specifically related to virtual screening"},"WeightedSumAggregation":{"title":"WeightedSumAggregation","required":["type"],"type":"object","properties":{"type":{"title":"Type","enum":["weighted_sum"],"type":"string"},"params":{"title":"Params","allOf":[{"$ref":"#/components/schemas/Empty"}],"default":{}}}},"XYCurve":{"title":"XYCurve","required":["points"],"type":"object","properties":{"points":{"title":"Points","type":"array","items":{"$ref":"#/components/schemas/Point"}}}}}}}